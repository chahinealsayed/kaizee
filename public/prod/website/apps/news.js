import{a as b}from"../chunk/app.js";import{a as x}from"../chunk/api.js";import{$ as f}from"../chunk/ma0e3fbddd3785020.js";import{d as y,o as k,l as p,m as _,p as e,F as w,v as j,n as B}from"../chunk/mc55b2a42316522d6.js";import{r as d}from"../chunk/m6bdda40d8bd2cf5a.js";import{K as n}from"../chunk/ma6cfd38af5d4c661.js";import"../chunk/m21bbc25c9f3922b4.js";import"../chunk/m64d389f71fee61f4.js";import"../chunk/m78c574d5c3843a3d.js";import"../chunk/m3fc8d974e5d8216d.js";import"../chunk/CloseButton.vue_vue_type_script_setup_true_lang.js";const C={class:"project-item"},E={class:"items"},L={class:"row itemContainer",id:"itemContainer"},M={class:"card rounded-0 border-0 card bg-transparent"},I=["href"],P=["src"],T={class:"deadline"},$={class:"date d-flex justify-content-start"},z={class:"type text-capitalize d-flex justify-content-end"},A=e("div",{class:"dots"},[e("span",{class:"dot dot-sm dot-success"})],-1),D={class:"card-body"},F={class:"card-title text-capitalize"},N={class:"card-text text-muted"},S=["href"],q={class:"row text-center pb-5"},K={class:"col-sm-12"},O={class:"btn__wrapper"},R=["disabled"],V=y({__name:"news",setup(H){const r=d([]),i=d(1),m=d(0),u=d(""),h=()=>{var a;const s=document.querySelectorAll(".category-link");s.forEach(t=>{t.addEventListener("click",c=>{c.preventDefault();const o=document.getElementById("load-more");o&&(o.innerText="load more...",o.style.backgroundColor="#13a041",o.style.color="white"),s.forEach(l=>{l.classList.contains("active")&&l.classList.remove("active")}),t.classList.add("active"),u.value=t.dataset.cid,i.value=1,v(u.value,i.value)})}),(a=s.item(0))==null||a.click()},v=(s="",a=1)=>{x().get(`/news?expand=local,categories,categories.local&sort=position,local.title&cid=${s}&per-page=2&page=${a}`).then(({data:t})=>{f(".project-item").fadeOut(200,function(){if(a===1)r.value=t.slice(0,2);else{const c=(a-1)*2,o=c+2;r.value=[...r.value,...t.slice(c,o)]}m.value=Math.ceil(t.length/2),B(()=>{f(".project-item").fadeIn(200)})})})},g=()=>{if(i.value++,v(u.value,i.value),i.value>=m.value){const s=document.getElementById("load-more");s&&(s.innerText="No more posts available",s.style.backgroundColor="transparent",s.style.color="black",s.disabled=!0)}};return k(()=>{h()}),(s,a)=>(p(),_("section",C,[e("div",E,[e("div",L,[(p(!0),_(w,null,j(r.value,(t,c)=>{var o,l;return p(),_("div",{class:"col-md-6 item news pb-5 bg-transparent",key:t.id},[e("div",M,[e("a",{href:"default/content?id="+t.id+"&cid="+t.categories.at(0).id},[e("img",{src:(l=(o=t.attrs)==null?void 0:o.image)==null?void 0:l.url},null,8,P)],8,I),e("div",T,[e("div",$,n(t.local.attrs.date),1),e("div",z,[A,e("span",null,n(t.categories.at(0).local.title),1)])]),e("div",D,[e("h5",F,n(t.local.title),1),e("p",N,n(t.local.excerpt),1),e("a",{href:"default/content?id="+t.id+"&cid="+t.categories.at(0).id,class:"btn btn-discover"},"Read More",8,S)])])])}),128))])]),e("div",q,[e("div",K,[e("div",O,[e("button",{onClick:g,disabled:i.value>=m.value,class:"btn btn-load-more",id:"load-more"},"Load more...",8,R)])])])]))}}),G=b("news",V);G.mount();
