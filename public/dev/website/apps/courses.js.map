{"version":3,"file":"courses.js","sources":["../../../../resources/js/tiers/website/apps/courses.vue","../../../../resources/js/tiers/website/startup/courses.ts"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { nextTick, onMounted } from \"vue\";\r\nimport { api } from \"@/lib/api\";\r\nimport { ref } from \"vue\";\r\nimport $ from \"jquery\";\r\n\r\n// Define your variables\r\nconst projects = ref<any>([]);\r\nconst categoriesExcerpt = ref();\r\nconst categoriesSubtitle = ref();\r\nconst categoriesImage = ref();\r\n\r\nconst loadProjects = (cid = '') => {\r\n    api().get(`/courses?expand=local,categories,categories.local&sort=position,local.title&cid=${cid}`)\r\n        .then((response: any) => {\r\n            const data = response.data;\r\n\r\n            $('.project-item').fadeOut(200, function () {\r\n                projects.value = data;\r\n                categoriesExcerpt.value = data[0]?.categories.at(0).local.excerpt;\r\n                categoriesImage.value = data[0]?.categories.at(0).attrs.image.url;\r\n                categoriesSubtitle.value = data[0]?.categories.at(0).local.attrs.subtitle;\r\n                nextTick(() => {\r\n                    $('.project-item').fadeIn(200);\r\n                });\r\n            });\r\n        })\r\n        .catch((error: any) => {\r\n            console.error('API call failed:', error);\r\n        });\r\n};\r\nconst init = () => {\r\n    const items = document.querySelectorAll('.category-link');\r\n    items.forEach((item: any) => {\r\n        item.addEventListener('click', (e: any) => {\r\n            e.preventDefault();\r\n            const currentlyActive = document.querySelector('.category-link.active');\r\n            if (currentlyActive) {\r\n                currentlyActive.classList.remove('active');\r\n            }\r\n            item.classList.add('active');\r\n            const cid = item.dataset.cid;\r\n            loadProjects(cid); // Use data-cid from the clicked element\r\n\r\n            // Modify the URL to /course-page without cid parameter\r\n            history.pushState({}, document.title, '/course-page');\r\n        });\r\n    });\r\n\r\n    // Check if the URL is '/course-page' and load courses for the first cid if no cid parameter is present\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const urlCid = urlParams.get('cid');\r\n    if (window.location.pathname === '/course-page' && urlCid === null) {\r\n        const coursesLink = document.querySelector('.category-link');\r\n        if (coursesLink) {\r\n            coursesLink.classList.add('active');\r\n            const firstCid = coursesLink.dataset.cid;\r\n            loadProjects(firstCid); // Load projects for the first cid found\r\n        }\r\n    }\r\n};\r\n\r\nonMounted(() => {\r\n    init();\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const urlCid = urlParams.get('cid');\r\n    if (urlCid) {\r\n        const elementWithUrlCid = document.querySelector(`[data-cid=\"${urlCid}\"]`);\r\n        if (elementWithUrlCid) {\r\n            elementWithUrlCid.classList.add('active');\r\n            loadProjects(urlCid);\r\n        }\r\n    }\r\n});\r\n\r\n</script>\r\n<template>\r\n    <section class=\"project-item\">\r\n        <div class=\"tab-content py-3\" id=\"myTabContent\">\r\n            <div class=\"taxonomy-content contentfront-line\" id=\"taxonomy-content-id12\" data-slug=\"front-line\"\r\n                style=\"display: block;\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-7 pt-md-5\">\r\n                        <span class=\"title\">\r\n                            <p>{{ categoriesSubtitle }}</p>\r\n                        </span>\r\n                        <p class=\"pt-2 description\">{{ categoriesExcerpt }}</p>\r\n                        <p class=\"  \"></p>\r\n                        <p></p>\r\n                    </div>\r\n                    <div class=\"col-md-5\">\r\n                        <div class=\"img\">\r\n                            <img :src=\"categoriesImage\">\r\n                            <span class=\"span1\"></span>\r\n                            <span class=\"span2\"></span>\r\n                            <span class=\"span3\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n\r\n    <section class=\"course-card\">\r\n        <section class=\"project-item\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-6\" v-for=\"content in projects\" :key=\"content.id\">\r\n                    <div class=\"course-book\">\r\n                        <div class=\"course-book-img\">\r\n                            <img class=\"project-image\" :src=\"content.attrs?.image1?.url\" alt=\"\" />\r\n                        </div>\r\n                        <div class=\"course-details\">\r\n                            <div class=\"course-name\">\r\n                                <p>{{ content.local.title }}</p>\r\n                            </div>\r\n                            <div class=\"course-description\">\r\n                                <p>description:{{ content.attrs.description }}\r\n                                </p>\r\n                            </div>\r\n                            <div class=\"course-duration inf\">\r\n                                <div class=\"dur-value value\">\r\n                                    <p>\r\n                                        <span class=\"title\">Duration:\r\n                                        </span>{{ content.attrs.duration }}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"course-price inf\">\r\n                                <div class=\"price-title title\">\r\n                                    <p>Price:</p>\r\n                                </div>\r\n                                <div class=\"price-value value\">\r\n                                    <p>{{ content.attrs.price }}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"site-button\">\r\n                                <a :href=\"'default/content?id=' + content.id\">View Course</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </section>\r\n</template>\r\n","/**\n * courses.vue Startup File\n *\n * @project kaizee\n * @company Codendot <https://codendot.com>\n * @author Jawdat Sobh <jawdat@codendot.com>\n * @since Wednesday, October 25, 2023 at 09:14 AM GMT+3\n *\n */\n\nimport { createApp } from \"@/lib/app\"\nimport AppComponent from \"../apps/courses.vue\"\nimport bootstrap from \"../bootstrap/courses\"\n\nconst app = createApp(\"courses\", AppComponent)\nbootstrap(app)\napp.mount()\n"],"names":["projects","ref","categoriesExcerpt","categoriesSubtitle","categoriesImage","loadProjects","cid","api","response","data","$","_a","_b","_c","nextTick","error","init","item","e","currentlyActive","urlCid","coursesLink","firstCid","onMounted","elementWithUrlCid","app","createApp","AppComponent"],"mappings":"ilDAOM,MAAAA,EAAWC,EAAS,CAAA,CAAE,EACtBC,EAAoBD,IACpBE,EAAqBF,IACrBG,EAAkBH,IAElBI,EAAe,CAACC,EAAM,KAAO,CAC3BC,EAAA,EAAE,IAAI,mFAAmFD,CAAG,EAAE,EAC7F,KAAME,GAAkB,CACrB,MAAMC,EAAOD,EAAS,KAEtBE,EAAE,eAAe,EAAE,QAAQ,IAAK,UAAY,WACxCV,EAAS,MAAQS,EACCP,EAAA,OAAQS,EAAAF,EAAK,CAAC,IAAN,YAAAE,EAAS,WAAW,GAAG,GAAG,MAAM,QAC1CP,EAAA,OAAQQ,EAAAH,EAAK,CAAC,IAAN,YAAAG,EAAS,WAAW,GAAG,GAAG,MAAM,MAAM,IAC3CT,EAAA,OAAQU,EAAAJ,EAAK,CAAC,IAAN,YAAAI,EAAS,WAAW,GAAG,GAAG,MAAM,MAAM,SACjEC,EAAS,IAAM,CACTJ,EAAA,eAAe,EAAE,OAAO,GAAG,CAAA,CAChC,CAAA,CACJ,CAAA,CACJ,EACA,MAAOK,GAAe,CACX,QAAA,MAAM,mBAAoBA,CAAK,CAAA,CAC1C,CAAA,EAEHC,EAAO,IAAM,CACD,SAAS,iBAAiB,gBAAgB,EAClD,QAASC,GAAc,CACpBA,EAAA,iBAAiB,QAAUC,GAAW,CACvCA,EAAE,eAAe,EACX,MAAAC,EAAkB,SAAS,cAAc,uBAAuB,EAClEA,GACgBA,EAAA,UAAU,OAAO,QAAQ,EAExCF,EAAA,UAAU,IAAI,QAAQ,EACrB,MAAAX,EAAMW,EAAK,QAAQ,IACzBZ,EAAaC,CAAG,EAGhB,QAAQ,UAAU,CAAI,EAAA,SAAS,MAAO,cAAc,CAAA,CACvD,CAAA,CACJ,EAIK,MAAAc,EADY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EACnC,IAAI,KAAK,EAClC,GAAI,OAAO,SAAS,WAAa,gBAAkBA,IAAW,KAAM,CAC1D,MAAAC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,GAAIA,EAAa,CACDA,EAAA,UAAU,IAAI,QAAQ,EAC5B,MAAAC,EAAWD,EAAY,QAAQ,IACrChB,EAAaiB,CAAQ,CACzB,CACJ,CAAA,EAGJ,OAAAC,EAAU,IAAM,CACPP,IAEC,MAAAI,EADY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EACnC,IAAI,KAAK,EAClC,GAAIA,EAAQ,CACR,MAAMI,EAAoB,SAAS,cAAc,cAAcJ,CAAM,IAAI,EACrEI,IACkBA,EAAA,UAAU,IAAI,QAAQ,EACxCnB,EAAae,CAAM,EAE3B,CAAA,CACH,w2BC3DKK,GAAMC,EAAU,UAAWC,EAAY,EAE7CF,GAAI,MAAM"}