import{a as b}from"../chunk/app.js";import{a as x}from"../chunk/api.js";import{$ as f}from"../chunk/ma0e3fbddd3785020.js";import{d as y,o as k,l as _,m as u,p as e,F as w,v as C,n as j}from"../chunk/mc55b2a42316522d6.js";import{r as d}from"../chunk/m6bdda40d8bd2cf5a.js";import{K as n}from"../chunk/ma6cfd38af5d4c661.js";import{_ as B}from"../chunk/_plugin-vue_export-helper.js";import"../chunk/m21bbc25c9f3922b4.js";import"../chunk/m64d389f71fee61f4.js";import"../chunk/m636c69b45de90c54.js";import"../chunk/m78c574d5c3843a3d.js";import"../chunk/m3fc8d974e5d8216d.js";import"../chunk/CloseButton.js";const E={class:"project-item"},L={class:"items"},M={class:"row itemContainer",id:"itemContainer"},I={class:"card rounded-0 border-0 card bg-transparent"},A=["href"],P=["src"],T={class:"deadline"},$={class:"date d-flex justify-content-start"},z={class:"type text-capitalize d-flex justify-content-end"},D=e("div",{class:"dots"},[e("span",{class:"dot dot-sm dot-success"})],-1),F={class:"card-body"},N={class:"card-title text-capitalize"},S={class:"card-text text-muted"},q=["href"],K={class:"row text-center pb-5"},O={class:"col-sm-12"},R={class:"btn__wrapper"},V=["disabled"],G=y({__name:"news",setup(Q){const l=d([]),i=d(1),m=d(0),p=d(""),h=()=>{var a;const s=document.querySelectorAll(".category-link");s.forEach(t=>{t.addEventListener("click",c=>{c.preventDefault();const o=document.getElementById("load-more");o&&(o.innerText="load more...",o.style.backgroundColor="#13a041",o.style.color="white"),s.forEach(r=>{r.classList.contains("active")&&r.classList.remove("active")}),t.classList.add("active"),p.value=t.dataset.cid,i.value=1,v(p.value,i.value)})}),(a=s.item(0))==null||a.click()},v=(s="",a=1)=>{x().get(`/news?expand=local,categories,categories.local&sort=position,local.title&cid=${s}&per-page=2&page=${a}`).then(({data:t})=>{f(".project-item").fadeOut(200,function(){if(a===1)l.value=t.slice(0,2);else{const c=(a-1)*2,o=c+2;l.value=[...l.value,...t.slice(c,o)]}m.value=Math.ceil(t.length/2),j(()=>{f(".project-item").fadeIn(200)})})})},g=()=>{if(i.value++,v(p.value,i.value),i.value>=m.value){const s=document.getElementById("load-more");s&&(s.innerText="No more posts available",s.style.backgroundColor="transparent",s.style.color="black",s.disabled=!0)}};return k(()=>{h()}),(s,a)=>(_(),u("section",E,[e("div",L,[e("div",M,[(_(!0),u(w,null,C(l.value,(t,c)=>{var o,r;return _(),u("div",{class:"col-md-6 item news pb-5 bg-transparent",key:t.id},[e("div",I,[e("a",{href:"default/content?id="+t.id+"&cid="+t.categories.at(0).id},[e("img",{src:(r=(o=t.attrs)==null?void 0:o.image)==null?void 0:r.url},null,8,P)],8,A),e("div",T,[e("div",$,n(t.local.attrs.date),1),e("div",z,[D,e("span",null,n(t.categories.at(0).local.title),1)])]),e("div",F,[e("h5",N,n(t.local.title),1),e("p",S,n(t.local.excerpt),1),e("a",{href:"default/content?id="+t.id+"&cid="+t.categories.at(0).id,class:"btn btn-discover"},"Read More",8,q)])])])}),128))])]),e("div",K,[e("div",O,[e("div",R,[e("button",{onClick:g,disabled:i.value>=m.value,class:"btn btn-load-more",id:"load-more"},"Load more...",8,V)])])])]))}}),H=B(G,[["__file","news.vue"]]),J=b("news",H);J.mount();
//# sourceMappingURL=news.js.map
